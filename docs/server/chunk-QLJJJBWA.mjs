import './polyfills.server.mjs';
import{D as V,E as N,F as j,G as O,H as L,I as A,L as H,R as M,a as d,b as _,c as u,d as g,e as f,f as E,g as p,h as F,i as h,j as m,k as y,l as a,m as o,n as w,o as C,p as x,q as c,r as k,s as D,t as s,u as b,v as z}from"./chunk-5XWS23MP.mjs";var q=[],U=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u({type:e}),e.\u0275inj=d({imports:[M.forRoot(q),M]});let t=e;return t})();var $={globaldatapt:"assets/vendors/globaldata.png",imperiomultimediapt:"assets/vendors/imperiomultimedia.png",pccomponentespt:"assets/vendors/pccomponentes.png",pcdigapt:"assets/vendors/pcdiga.png",switchtechnologypt:"assets/vendors/switchtechnology.png"};function G(t,e){if(t&1&&(a(0,"option",13),s(1),o()),t&2){let r=e.$implicit;m("value",r),p(),b(r)}}function J(t,e){if(t&1&&w(0,"img",20),t&2){let r=c().$implicit,i=c();k("alt",r[2]),m("src",i.vendorImageMapping[r[2]],E)}}function K(t,e){if(t&1&&(a(0,"tr",14)(1,"td",15),s(2),o(),a(3,"td",15),s(4),o(),a(5,"td",15),s(6),o(),a(7,"td",16),h(8,J,1,2,"img",17),o(),a(9,"td",16)(10,"a",18)(11,"button",19),s(12," Link "),o()()()()),t&2){let r=e.$implicit,i=e.index,n=c();p(2),b(i+1),p(2),b(r[0]),p(2),b(r[1]),p(2),m("ngIf",n.vendorImageMapping[r[2]]),p(2),k("href",r[3],E)}}function Q(t,e){if(t&1){let r=C();a(0,"button",25),x("click",function(){let n=g(r).index,l=c(2);return f(l.changePage(n+1))}),s(1),o()}if(t&2){let r=e.index,i=c(2);y("bg-blue-500",r+1===i.currentPage)("text-white",r+1===i.currentPage),p(),z(" ",r+1," ")}}function W(t,e){if(t&1){let r=C();a(0,"div",21)(1,"button",22),x("click",function(){g(r);let n=c();return f(n.previousPage())}),s(2,"Anterior"),o(),h(3,Q,2,5,"button",23),a(4,"button",24),x("click",function(){g(r);let n=c();return f(n.nextPage())}),s(5,"Pr\xF3ximo"),o()()}if(t&2){let r=c();p(),y("hidden",r.currentPage===1),p(2),m("ngForOf",r.pageNumbers()),p(),y("hidden",r.currentPage===r.totalPages)}}var S=(()=>{let e=class e{constructor(i){this.http=i,this.products=[],this.vendorImageMapping=$,this.updateDate="",this.currentPage=1,this.pageSize=10,this.totalPages=0,this.filteredProducts=this.products,this.pageSizes=[10,25,50]}ngOnInit(){this.readCsvData(),this.visibleData(),this.pageNumbers()}readCsvData(){this.http.get("assets/prices.csv",{responseType:"text"}).subscribe(i=>{let n=i.split(`
`);for(let l=1;l<n.length-1;l++){let v=n[l].split(",");this.products.push(v),this.updateDate=this.products[0][4]}})}visibleData(){let i=(this.currentPage-1)*this.pageSize,n=i+this.pageSize;return this.filteredProducts.slice(i,n)}nextPage(){this.currentPage=this.currentPage++,this.visibleData()}previousPage(){this.currentPage=this.currentPage--,this.visibleData()}changePage(i){this.currentPage=i,this.visibleData()}pageNumbers(){return this.totalPages=Math.ceil(this.products.length/this.pageSize),new Array(this.totalPages)}changePageSize(i){this.pageSize=i,this.visibleData()}filterData(i){this.filteredProducts=this.products.filter(n=>Object.values(n).some(l=>typeof l=="string"&&l.toLowerCase().includes(i.toLowerCase()))),this.visibleData()}};e.\u0275fac=function(n){return new(n||e)(F(j))},e.\u0275cmp=_({type:e,selectors:[["app-table"]],decls:30,vars:4,consts:[["filter",""],["pageSize",""],[1,"text-center","mb-6"],[1,"text-4xl","font-bold","text-gray-800"],[1,"w-4/4","shadow-md","p-10","bg-white","shadow-blue-200/20","mx-36","my-10"],[1,"flex","justify-between","items-center","mb-4","mt-4"],["type","text","placeholder","Procurar",1,"w-full","border","p-2","rounded-lg",3,"keyup"],[1,"border","p-2","rounded-lg",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"w-full","border-4"],[1,"p-3","text-left","bg-gray-200"],["class","border-2",4,"ngFor","ngForOf"],["class","mt-4 flex items-center justify-center",4,"ngIf"],[3,"value"],[1,"border-2"],[1,"p-3","border-2"],[1,"p-0","border-2","text-center"],["class","mx-auto max-w-full max-h-12",3,"src","alt",4,"ngIf"],["target","_blank",3,"href"],["type","button",1,"text-white","bg-gradient-to-r","from-cyan-500","to-blue-500","hover:bg-gradient-to-bl","focus:ring-4","focus:outline-none","focus:ring-cyan-300","dark:focus:ring-cyan-800","font-medium","rounded-lg","text-sm","px-8","py-2.5"],[1,"mx-auto","max-w-full","max-h-12",3,"src","alt"],[1,"mt-4","flex","items-center","justify-center"],[1,"text-blue-500","border-4","py-2","px-4","rounded-l-lg","cursor-pointer","mr-5",3,"click"],["class","py-2 px-4 cursor-pointer",3,"bg-blue-500","text-white","click",4,"ngFor","ngForOf"],[1,"text-blue-500","border-4","py-2","px-4","rounded-r-lg","cursor-pointer","ml-5",3,"click"],[1,"py-2","px-4","cursor-pointer",3,"click"]],template:function(n,l){if(n&1){let v=C();a(0,"div",2)(1,"h1",3),s(2,"Price Tracker"),o(),a(3,"p"),s(4,"Last Updated on: "),o(),a(5,"p"),s(6),o()(),a(7,"div",4)(8,"div",5)(9,"input",6,0),x("keyup",function(){g(v);let I=D(10);return f(l.filterData(I.value))}),o(),a(11,"select",7,1),x("change",function(){g(v);let I=D(12);return f(l.changePageSize(I.value))}),h(13,G,2,2,"option",8),o()(),a(14,"table",9)(15,"thead")(16,"tr")(17,"th",10),s(18,"#"),o(),a(19,"th",10),s(20,"Produto"),o(),a(21,"th",10),s(22,"Pre\xE7o"),o(),a(23,"th",10),s(24,"Vendedor"),o(),a(25,"th",10),s(26,"Link"),o()()(),a(27,"tbody"),h(28,K,13,5,"tr",11),o()(),h(29,W,6,5,"div",12),o()}n&2&&(p(6),b(l.updateDate),p(7),m("ngForOf",l.pageSizes),p(15),m("ngForOf",l.visibleData()),p(),m("ngIf",l.totalPages>1))},dependencies:[V,N]});let t=e;return t})();var T=(()=>{let e=class e{constructor(){this.title="price-tracker"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=_({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,l){n&1&&w(0,"app-table")},dependencies:[S]});let t=e;return t})();var B=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u({type:e,bootstrap:[T]}),e.\u0275inj=d({providers:[A(),S],imports:[L,U,O]});let t=e;return t})();var Y=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u({type:e,bootstrap:[T]}),e.\u0275inj=d({imports:[B,H]});let t=e;return t})();export{Y as a};
