import './polyfills.server.mjs';
import{B as N,C as V,D as z,E as M,F as j,G as O,J as A,P as E,a as m,b as _,c as d,d as u,e as f,f as c,g as I,h as b,i as g,j as y,k as a,l as o,m as F,n as P,o as h,p as x,q as D,r as l,s as p,t as k}from"./chunk-7D46JNJB.mjs";var B=[],H=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=d({type:e}),e.\u0275inj=m({imports:[E.forRoot(B),E]});let t=e;return t})();function R(t,e){if(t&1&&(a(0,"option",13),l(1),o()),t&2){let n=e.$implicit;g("value",n),c(),p(n)}}function U(t,e){if(t&1&&(a(0,"tr",14)(1,"td",15),l(2),o(),a(3,"td",15),l(4),o(),a(5,"td",15),l(6),o(),a(7,"td",15),l(8),o()()),t&2){let n=e.$implicit,i=e.index;c(2),p(i+1),c(2),p(n[0]),c(2),p(n[1]),c(2),p(n[2])}}function q(t,e){if(t&1){let n=P();a(0,"button",20),h("click",function(){let r=u(n).index,s=x(2);return f(s.changePage(r+1))}),l(1),o()}if(t&2){let n=e.index,i=x(2);y("bg-blue-500",n+1===i.currentPage)("text-white",n+1===i.currentPage),c(),k(" ",n+1," ")}}function G(t,e){if(t&1){let n=P();a(0,"div",16)(1,"button",17),h("click",function(){u(n);let r=x();return f(r.previousPage())}),l(2,"Anterior"),o(),b(3,q,2,5,"button",18),a(4,"button",19),h("click",function(){u(n);let r=x();return f(r.nextPage())}),l(5,"Pr\xF3ximo"),o()()}if(t&2){let n=x();c(),y("hidden",n.currentPage===1),c(2),g("ngForOf",n.pageNumbers()),c(),y("hidden",n.currentPage===n.totalPages)}}var C=(()=>{let e=class e{constructor(i){this.http=i,this.products=[],this.updateDate="",this.currentPage=1,this.pageSize=10,this.totalPages=0,this.filteredProducts=this.products,this.pageSizes=[10,25,50]}ngOnInit(){this.readCsvData(),this.visibleData(),this.pageNumbers()}readCsvData(){this.http.get("assets/prices.csv",{responseType:"text"}).subscribe(i=>{let r=i.split(`
`);for(let s=1;s<r.length-1;s++){let v=r[s].split(",");this.products.push(v),this.updateDate=this.products[0][2]}})}visibleData(){let i=(this.currentPage-1)*this.pageSize,r=i+this.pageSize;return this.filteredProducts.slice(i,r)}nextPage(){this.currentPage=this.currentPage++,this.visibleData()}previousPage(){this.currentPage=this.currentPage--,this.visibleData()}changePage(i){this.currentPage=i,this.visibleData()}pageNumbers(){return this.totalPages=Math.ceil(this.products.length/this.pageSize),new Array(this.totalPages)}changePageSize(i){this.pageSize=i,this.visibleData()}filterData(i){this.filteredProducts=this.products.filter(r=>Object.values(r).some(s=>typeof s=="string"&&s.toLowerCase().includes(i.toLowerCase()))),this.visibleData()}};e.\u0275fac=function(r){return new(r||e)(I(z))},e.\u0275cmp=_({type:e,selectors:[["app-table"]],decls:28,vars:4,consts:[["filter",""],["pageSize",""],[1,"text-center","mb-6"],[1,"text-4xl","font-bold","text-gray-800"],[1,"w-4/4","shadow-md","p-10","bg-white","shadow-blue-200/20","mx-36","my-10"],[1,"flex","justify-between","items-center","mb-4","mt-4"],["type","text","placeholder","Procurar",1,"w-full","border","p-2","rounded-lg",3,"keyup"],[1,"border","p-2","rounded-lg",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"w-full","border-4"],[1,"p-3","text-left","bg-gray-200"],["class","border-2",4,"ngFor","ngForOf"],["class","mt-4 flex items-center justify-center",4,"ngIf"],[3,"value"],[1,"border-2"],[1,"p-3","border-2"],[1,"mt-4","flex","items-center","justify-center"],[1,"text-blue-500","border-4","py-2","px-4","rounded-l-lg","cursor-pointer","mr-5",3,"click"],["class","py-2 px-4 cursor-pointer",3,"bg-blue-500","text-white","click",4,"ngFor","ngForOf"],[1,"text-blue-500","border-4","py-2","px-4","rounded-r-lg","cursor-pointer","ml-5",3,"click"],[1,"py-2","px-4","cursor-pointer",3,"click"]],template:function(r,s){if(r&1){let v=P();a(0,"div",2)(1,"h1",3),l(2,"Price Tracker"),o(),a(3,"p"),l(4,"Last Updated on: "),o(),a(5,"p"),l(6),o()(),a(7,"div",4)(8,"div",5)(9,"input",6,0),h("keyup",function(){u(v);let T=D(10);return f(s.filterData(T.value))}),o(),a(11,"select",7,1),h("change",function(){u(v);let T=D(12);return f(s.changePageSize(T.value))}),b(13,R,2,2,"option",8),o()(),a(14,"table",9)(15,"thead")(16,"tr")(17,"th",10),l(18,"#"),o(),a(19,"th",10),l(20,"Produto"),o(),a(21,"th",10),l(22,"Pre\xE7o"),o(),a(23,"th",10),l(24,"Data"),o()()(),a(25,"tbody"),b(26,U,9,4,"tr",11),o()(),b(27,G,6,5,"div",12),o()}r&2&&(c(6),p(s.updateDate),c(7),g("ngForOf",s.pageSizes),c(13),g("ngForOf",s.visibleData()),c(),g("ngIf",s.totalPages>1))},dependencies:[N,V]});let t=e;return t})();var S=(()=>{let e=class e{constructor(){this.title="price-tracker"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=_({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){r&1&&F(0,"app-table")},dependencies:[C]});let t=e;return t})();var L=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=d({type:e,bootstrap:[S]}),e.\u0275inj=m({providers:[O(),C],imports:[j,H,M]});let t=e;return t})();var K=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=d({type:e,bootstrap:[S]}),e.\u0275inj=m({imports:[L,A]});let t=e;return t})();export{K as a};
